(this.webpackJsonpmasquerade=this.webpackJsonpmasquerade||[]).push([[0],{202:function(e,n,t){},208:function(e,n){},210:function(e,n){},220:function(e,n){},222:function(e,n){},247:function(e,n){},249:function(e,n){},250:function(e,n){},255:function(e,n){},257:function(e,n){},276:function(e,n){},288:function(e,n){},291:function(e,n){},354:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(2),a=t.n(r),s=t(191),l=t.n(s),o=t(1),i=t(4),u=t.n(i),j=t(7),h=t(10),d=(t(202),t(23)),b=t.n(d),O=t(5),m={2:["judge","bishop","king","queen","cheat","thief"],3:["judge","bishop","king","queen","cheat","thief"],4:["judge","bishop","king","queen","cheat","thief"],5:["judge","bishop","king","queen","cheat","witch"],6:["judge","bishop","king","queen","cheat","witch"],7:["judge","bishop","king","queen","cheat","witch","thief"]},g=4,f=function(e,n){var t,c=b.a.omit(e.scores,n);return t=c,Object.keys(t).filter((function(e){return t[e]==Math.max.apply(null,Object.values(t))}))},p=function(e){var n=Object(O.a)(e.challengingPlayers),t=e.chosenRole;if(0===n.length)return!0;if(e.roles[e.declarer]===t)return e.declarer;for(var c=0;c<n.length;c++)if(e.roles[n[c]]===t)return n[c];return!1},x=function(e){var n=[],t=[],c=Object(O.a)(e.challengingPlayers),r=e.chosenRole;Object(o.a)({},e.roles);return 0===c.length?n=[e.declarer]:[e.declarer].concat(Object(O.a)(c)).forEach((function(c){e.roles[c]===r?n.push(c):t=[].concat(Object(O.a)(t),[c])})),{rolePlayers:n,falseClaimants:t}},v=function(e,n){return e?(t=e.target?"".concat(n[e.actor]," ").concat(e.action," ").concat(n[e.target]):"".concat(n[e.actor]," ").concat(e.action),e.challengers&&(t="".concat(t," (challengers: ").concat(e.challengers.map((function(e){return n[e]})).join(", "),")")),t):null;var t},y=function(e){var n=Object(O.a)(e),t=n.length;return t<6&&n.push("Middle 1"),t<5&&n.push("Middle 2"),n},w=function(e,n){var t=e.logs?Object(O.a)(e.logs):[];return t.push(n),t.length>5&&t.shift(),t},N=function(e,n){var t,c=x(e).falseClaimants;e.playersToPenalize=c;var r=Object(O.a)(e.challengingPlayers);p(e)?t=e.challengingPlayers.length>0?{actor:n.currentPlayer,action:"was challenged, and the real ".concat(e.chosenRole," was"),target:p(e),challengers:r}:{actor:n.currentPlayer,action:"was not challenged"}:(e.noValidRolePlayer=!0,t={actor:n.currentPlayer,action:"was challenged, and nobody was really the ".concat(e.chosenRole),challengers:r}),e.logs=w(e,t),n.events.setPhase("resolveRole")},P={name:"masquerade",setup:function(e){var n,t=function(e){var n=m[e];n=b.a.shuffle(n);var t=Array(e).fill(1).reduce((function(e,t,c){return e[c]=n[c],e}),{});return 4===e&&(t[4]=n.slice(-1).shift(),t[5]=n.slice(-2).shift()),5===e&&(t[5]=n.slice(-1).shift()),t}(e.numPlayers);return{roles:t,originalRoles:Object(o.a)({},t),roleList:m[e.numPlayers],scores:(n=e.numPlayers,console.log("Setting up for",n),Array(n).fill("xxx").reduce((function(e,n,t){return e[t]=6,e}),{})),coinsOnCourt:1,playersToPenalize:[],chosenRole:null,challengingPlayers:[],playersToShow:[],playerToAct:null,declarer:null,nextPlayer:0,chosenAction:null,swapTarget:null,roleTarget:null,noValidRolePlayer:!1,revealedPlayers:[],playerMustSwap:!1,declaredAt:null,atLeastOneChallenger:!1,logs:[null,null,null]}},phases:{resolveRole:{turn:{order:{first:function(e){return e.noValidRolePlayer?Number(e.declarer):(n=x(e).rolePlayers[0],Number(n));var n},next:function(e,n){return(n.playOrderPos+1)%n.numPlayers}}},moves:{chooseTarget:function(e,n,t){e.roleTarget=t},finishRolePhase:function(e,n){!function(e,n){var t=e.chosenRole,c=e.roleTarget,r=n.currentPlayer,a={actor:r,action:"did something unknown"};if(e.challengingPlayers.length>0&&e.roles[r]!==t)return null;var s,l,o=e.scores[c],i=e.scores[r],u=e.swap_1,j=e.swap_2,h=e.foolSwap;if("king"===t&&(e.scores[r]=e.scores[r]+3,a={actor:r,action:"took three coins from the bank as king"}),"queen"===t&&(e.scores[r]=e.scores[r]+2,a={actor:r,action:"took two coins from the bank as queen"}),"judge"===t&&(e.scores[r]=e.scores[r]+e.coinsOnCourt,a={actor:r,action:"took ".concat(e.coinsOnCourt," coins from the courthouse as judge")},e.coinsOnCourt=0),"witch"===t&&(e.scores[r]=o,e.scores[c]=i,a={actor:r,action:"swapped fortunes with",target:c}),"bishop"===t&&(e.scores[r]=i+2,e.scores[c]=o-2,a={actor:r,action:"took two coins from",target:c}),"cheat"===t&&i>=10&&(e.winner=r),"widow"===t&&i<10&&(e.scores[r]=10),"thief"===t&&(s=(n.playOrderPos+1)%n.numPlayers,l=(n.numPlayers+n.playOrderPos-1)%n.numPlayers,e.scores[s]--,e.scores[l]--,e.scores[r]=e.scores[r]+2,a={actor:r,action:"took a coin from each player beside them"}),"fool"===t){var d=e.roles[u],b=e.roles[j];e.scores[r]++,h&&(e.roles[u]=b,e.roles[j]=d)}e.logs=w(e,a)}(e,n),n.events.endPhase()}},onEnd:function(e,n){e.playersToPenalize.forEach((function(n){e.scores[n]--,e.coinsOnCourt++})),e.playersToPenalize=[],e.playersToShow=[],e.chosenRole=null,e.chosenAction=null,e.roleTarget=null,e.declarer=null,e.noValidRolePlayer=!1,e.atLeastOneChallenger=!1}}},turn:{onBegin:function(e,n){e.nextPlayer=function(e,n){return(n.playOrderPos+1)%n.playOrder.length}(0,n),e.challengingPlayers=[],e.revealedPlayers.includes(n.currentPlayer)?(e.playerMustSwap=!0,e.revealedPlayers=[]):e.playerMustSwap=!1},onEnd:function(e,n){e.swapTarget=null,e.chosenAction=null,e.challengingPlayers.length>0&&(e.revealedPlayers=[e.declarer].concat(Object(O.a)(e.challengingPlayers))),e.playerMustSwap=!1,e.declaredAt=null},order:{first:function(e){return e.nextPlayer},next:function(e,n){return(n.playOrderPos+1)%n.numPlayers}},stages:{challenge:{moves:{respond:function(e,n,t){"challenge"===t&&(e.challengingPlayers.includes(n.playerID)||(e.atLeastOneChallenger=!0,e.challengingPlayers.push(n.playerID))),2===Object.keys(n.activePlayers).length&&N(e,n)},forceResolve:N}}}},moves:{lookAtCard:function(e,n){e.playersToShow[n.currentPlayer]=!0},chooseAction:function(e,n,t,c){var r;if(e.chosenAction=t,"look"===t){r={actor:n.currentPlayer,action:"looked at their card"};var a=w(e,r);e.logs=a}},chooseSwapTarget:function(e,n,t){e.swapTarget=t},performSwap:function(e,n,t){if(t){var c=e.roles[n.currentPlayer],r=e.roles[e.swapTarget];e.roles[n.currentPlayer]=r,e.roles[e.swapTarget]=c}var a={actor:n.currentPlayer,target:e.swapTarget,action:"swapped roles (or not) with"};e.logs=w(e,a),n.events.endTurn()},declareRole:function(e,n,t){e.chosenRole=t,e.declarer=n.currentPlayer,e.declaredAt=(new Date).getTime(),n.events.setActivePlayers({all:"challenge",maxMoves:1});var c={actor:n.currentPlayer,action:"declared themself ".concat(t)};e.logs=w(e,c)},endTurn:function(e,n){n.events.endTurn()}},endIf:function(e){if(e.winner)return{winner:e.winner};var n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:13,t=!1;return b.a.forEach(e.scores,(function(e,c){e>=n&&(t=c)})),t}(e);return n?{winner:n}:void 0}},k=t(54),C=t(81),R=function(e){e.playerID;var n=e.ctx,t=e.G,r=e.playerNames,a=e.displayRole;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[b.a.map(t.originalRoles,(function(e,s){var l=n.currentPlayer===s;return Object(c.jsx)("div",{className:"col-6 col-md-3 p-2",children:Object(c.jsxs)("div",{className:"card shadow text-center bg-gray p-2",children:[Object(c.jsxs)("p",{className:l?"text-bold":"",children:[r[s]," "]}),t.scores[s]&&Object(c.jsxs)("p",{children:["Treasure: ",t.scores[s]]}),a&&Object(c.jsx)("p",{children:e})]})},"player-".concat(s))})),Object(c.jsx)("div",{className:"col-6 col-md-3 p-2",children:Object(c.jsxs)("div",{className:"card shadow text-center bg-gray p-2",children:[Object(c.jsx)("p",{children:"Courthouse"}),Object(c.jsxs)("p",{children:["Treasure: ",t.coinsOnCourt]})]})})]})})},T=function(e){var n=e.handleClose;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Role actions"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"king - 3 coins from the bank"}),Object(c.jsx)("li",{children:"queen - 2 coins from the bank"}),Object(c.jsx)("li",{children:"judge - all coins from the courthouse"}),Object(c.jsx)("li",{children:"cheat - wins the game if 10+ coins"}),Object(c.jsx)("li",{children:"thief - take 1 coin from each player to left and right"}),Object(c.jsx)("li",{children:"bishop - take 2 coins from richest player (choose if tied)"}),Object(c.jsx)("li",{children:"witch - swap fortunes with another player"})]}),Object(c.jsx)("button",{onClick:n,className:"btn btn-outline-dark",children:"Back"})]})},S=function(e){var n=e.playerID,t=e.ctx,a=e.G,s=e.moves,l=e.playerNames,i=Object(r.useState)(!1),u=Object(h.a)(i,2),j=u[0],d=u[1],m=Object(r.useState)(!1),p=Object(h.a)(m,2),x=p[0],y=p[1];if(console.log("G",a),console.log("ctx",t),x)return Object(c.jsx)(T,{handleClose:function(){return y(!1)}});var w,N=function(e){var n=e.G,t=function(e){return[e.declarer].concat(Object(O.a)(e.challengingPlayers))}(n);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"row",children:b.a.map(t,(function(e){return Object(c.jsx)("div",{className:"p-3 col-3",children:Object(c.jsxs)("div",{className:"card shadow text-center bg-gray p-3",children:[Object(c.jsxs)("p",{children:[l[e]," "]}),Object(c.jsx)("p",{children:n.roles[e]})]})},"revealed-".concat(e))}))})})},P=function(e){var n=e.targets,t=e.onChooseTarget;return Object(c.jsx)("div",{className:"row",children:n.map((function(e,n){var r=a.roleTarget===e;return Object(c.jsx)("div",{className:"col-4 col-md-2",children:Object(c.jsxs)("button",{className:"btn btn-outline-dark ".concat(r?"active":""),onClick:function(){return t(e)},children:[r&&"*",l[e]," - ",a.scores[e],r&&"*"]})},e)}))})},k=function(e){var n=e.ctx,t=e.G,r=e.moves,a=e.playerID;return console.log("your playerId",a),console.log("active players",Object.keys(n.activePlayers)),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("h2",{children:[l[n.currentPlayer]," is claiming ",t.chosenRole]})}),Object.keys(n.activePlayers).includes(a)?Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-4 pb-3",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){console.log("Challenge!"),r.respond("challenge")},children:"Challenge!"})}),Object(c.jsx)("div",{className:"col-4 pb-3",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){console.log("Allow!"),r.respond("allow")},children:"Allow!"})})]}):Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("p",{children:"Waiting for others to respond"})})]})},C=function(e){b.a.map(a.roles,(function(e,n){return n}));return Object(c.jsx)(c.Fragment,{children:null===a.swapTarget?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("h4",{children:"Swap with:"})})}),Object(c.jsx)("div",{className:"row",children:b.a.map(a.roles,(function(e,t){if(t!==n)return Object(c.jsx)("div",{className:"col-4 col-md-2 pb-4",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){S(t)},children:l[t]},t)},"swap-".concat(t))}))})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row pb-3",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("h4",{children:["Swap cards with ",l[a.swapTarget],"?"]})})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6 col-md-4",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return s.performSwap(!0)},children:"Yes, really swap"})}),Object(c.jsx)("div",{className:"col-6 col-md-4",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return s.performSwap(!1)},children:"No, keep my own card"})})]})]})})},S=function(e){s.chooseSwapTarget(e)},A=function(e){s.chooseTarget(e)},F=function(e){var t=e.G;switch(t.chosenRole){case"bishop":var r=f(t,n);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("h3",{children:"Choose who to take from:"})}),Object(c.jsx)(P,{targets:r,onChooseTarget:A})]});case"witch":var a=b.a.omit(t.scores,n);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Choose who you want to swap fortunes with:"}),Object(c.jsx)(P,{targets:Object.keys(a),onChooseTarget:A})]});default:return null}};if(t.gameover)return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Game Over!"}),Object(c.jsxs)("div",{children:["Winner: ",l[t.gameover.winner]]}),Object(c.jsx)(R,Object(o.a)({},e))]});if(a.noValidRolePlayer)return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("h3",{children:["Nobody was the ",a.chosenRole]}),Object(c.jsx)(N,{G:a}),t.currentPlayer===n&&Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){s.finishRolePhase()},children:"Okay, end turn"})})]});if("resolveRole"===t.phase){if(t.currentPlayer===n){var I="Resolve";"witch"===a.chosenRole&&(I="Swap fortunes"),"bishop"===a.chosenRole&&(I="Take two coins from target"),"king"===a.chosenRole&&(I="Take 3 coins from bank"),"queen"===a.chosenRole&&(I="Take 2 coins from bank"),"judge"===a.chosenRole&&(I="Take ".concat(a.coinsOnCourt," coins from courthouse")),"cheat"===a.chosenRole&&(I=a.scores[t.currentPlayer]>=10?"Win the game":"Do nothing");var D=(w=a.chosenRole,!["bishop","witch"].includes(w)||null!==a.roleTarget);return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("h3",{children:["You are playing as ",a.chosenRole,"! You have ",a.scores[n]," coins."]}),a.challengingPlayers.length>0&&Object(c.jsx)(N,{G:a}),Object(c.jsx)(F,{G:a}),D&&Object(c.jsx)("div",{className:"row pt-3",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){if(["king","queen","cheat","judge","widow","thief"].includes(a.chosenRole))return s.finishRolePhase();if(["bishop","witch"].includes(a.chosenRole)){if(null!==a.roleTarget)return s.finishRolePhase();console.log("No target chosen")}},children:I})})})]})}return Object(c.jsxs)("p",{children:[a.challengingPlayers.length>0&&Object(c.jsx)(N,{G:a}),"Waiting for the ",a.chosenRole," (",l[t.currentPlayer],") to play..."]})}var G=["roleplay","swap","look"],q=function(e){var n=e.choices,t=e.onChoose;return Object(c.jsx)("div",{className:"row",children:n.map((function(e){return Object(c.jsx)("div",{className:"col-4 col-md-2 pb-3",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return t(e)},children:e})},"".concat(e,"-button"))}))})};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"status-bar",children:Object(c.jsxs)("p",{children:["You are: ",l[n]," ",t.currentPlayer===n&&"(your turn)"]})}),Object(c.jsxs)("div",{children:[t.currentPlayer===n&&null===a.chosenAction&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row pt-2",children:Object(c.jsx)("div",{className:"col pb-3",children:Object(c.jsx)("h4",{children:"Choose your action:"})})}),Object(c.jsx)(q,{choices:G,onChoose:function(e){var n="";"look"===e&&(n="".concat(l[t.currentPlayer]," looked at their card")),s.chooseAction(e,n)}})]}),t.currentPlayer===n&&"look"===a.chosenAction&&Object(c.jsxs)("div",{className:"row pt-4",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("div",{className:"text-center",children:Object(c.jsxs)("p",{children:["Your role: ",a.roles[n]]})})}),Object(c.jsx)("div",{className:"col-4 pb-3",children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return s.endTurn()},children:"Okay, end turn"})})]}),t.currentPlayer===n&&"roleplay"===a.chosenAction&&Object(c.jsx)(c.Fragment,{children:a.chosenRole?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Waiting for others to challenge"}),j?Object(c.jsx)("button",{className:"btn btn-outline-dark disabled",children:"Resolve (wait)"}):Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return s.forceResolve()},children:"Resolve"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("h4",{className:"mb-4",children:"Choose your role:"})})}),Object(c.jsx)(q,{choices:a.roleList,onChoose:function(e){s.declareRole(e),d(!0),window.setTimeout((function(){d(!1)}),1e3*g)}})]})}),t.currentPlayer===n&&"swap"===a.chosenAction&&Object(c.jsx)(C,Object(o.a)({},e)),Object(c.jsx)("hr",{}),t.currentPlayer!==n&&null!==a.chosenRole&&Object(c.jsx)(k,Object(o.a)({},e)),Object(c.jsx)(R,Object(o.a)(Object(o.a)({},e),{},{displayRole:!0})),Object(c.jsx)("div",{className:"row",children:t.activePlayers&&Object(c.jsxs)("div",{className:"col",children:["Waiting for:"," ",Object.keys(t.activePlayers).map((function(e){return l[e]})).join(", ")]})}),a.currentAction&&Object(c.jsxs)("p",{children:["Current Action: ",a.currentAction]})]}),Object(c.jsx)("div",{className:"row pt-3",children:a.logs&&Object(c.jsx)("ul",{className:"log",children:a.logs.map((function(e,n){return e?Object(c.jsx)("li",{children:v(e,l)},"log-".concat(n)):null}))})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("p",{children:Object(c.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return y(!0)},children:"Guide"})})})]})},A=t(192),F=t.n(A),I=t(13),D=t(78),G=t.n(D),q=function(e){return Object(c.jsx)("div",{className:"container main mt-4 bg-white p-4 shadow rounded",children:e.children})},M=function(){var e=Object(r.useState)(F.a.generate({charset:"alphabetic",length:4,capitalization:"lowercase"})),n=Object(h.a)(e,2),t=n[0],a=n[1],s=Object(r.useState)("jane, joe, milly, bill"),l=Object(h.a)(s,2),o=l[0],i=l[1],d=Object(I.f)(),b=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=o.split(",").map((function(e){return e.trim()})),console.log(c),r={matchId:t,players:c,numPlayers:c.length},window.localStorage.setItem("gameData",JSON.stringify(r)),n.preventDefault(),console.log(r),G.a.post("/db/game",{matchId:t,gameData:r}).then((function(){return d.push("/host/".concat(r.matchId))}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)(q,{children:[Object(c.jsx)("h2",{className:"mb-4",children:"Create Game"}),Object(c.jsxs)("form",{onSubmit:b,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"game-name",children:"Game Name"}),Object(c.jsx)("input",{className:"ml-3",id:"game-name",value:t,onChange:function(e){a(e.target.value)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"game-players",children:"Players"}),Object(c.jsx)("input",{className:"w-50 ml-3 mb-4",id:"game-players",value:o,onChange:function(e){i(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Create"})})]})]})},E=function(){var e=Object(r.useState)(""),n=Object(h.a)(e,2),t=n[0],a=n[1],s=Object(r.useState)(""),l=Object(h.a)(s,2),o=l[0],i=l[1],d=Object(I.f)(),b=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.push("/join/".concat(t,"/").concat(o));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)(q,{children:[Object(c.jsx)("h2",{className:"mb-4",children:"Join Game"}),Object(c.jsxs)("form",{onSubmit:b,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"game-name",children:"Game Name"}),Object(c.jsx)("input",{className:"ml-3 mb-3",id:"game-name",value:t,onChange:function(e){a(e.target.value)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"your-name",children:"Your Name"}),Object(c.jsx)("input",{className:"ml-3 mb-4",id:"your-name",value:o,onChange:function(e){i(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Join Game"})})]})]})},J=t(51);t(320).config();var L=function(){var e=Object(r.useState)(""),n=Object(h.a)(e,2),t=n[0],a=n[1];return Object(c.jsxs)(q,{children:[Object(c.jsx)(J.b,{to:"/create",children:"Host"}),Object(c.jsx)("hr",{}),Object(c.jsx)(J.b,{to:"/join/".concat(t),children:"Join (enter code):"}),Object(c.jsx)("input",{className:"ml-3",value:t,onChange:function(e){return a(e.target.value)}})]})},W=function(e){var n,t,a,s,l=e.host,i=Object(r.useState)({}),d=Object(h.a)(i,2),O=d[0],m=d[1],g=Object(I.g)(),f=g.matchId,p=g.yourName,x=Object(r.useState)(p||""),v=Object(h.a)(x,2),w=v[0],N=v[1];if(Object(r.useEffect)((function(){return function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.a.get("/db/game/".concat(f)).then((function(e){var n=e.data;n.gameData&&m(n.gameData)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[f]),l){var R=JSON.parse(window.localStorage.getItem("gameData"));return console.log("saved data",R),"0",n=R.numPlayers,t=R.players,s={game:P,numPlayers:n,board:S,multiplayer:Object(C.b)({server:"https://masq.bruntrager.win"})},console.log("client opts",s),a=Object(k.a)(Object(o.a)(Object(o.a)({},s),{},{debug:!1})),Object(c.jsx)(q,{children:Object(c.jsx)(a,{matchID:f,playerID:"0",playerNames:y(t)})})}if(b.a.isEmpty(O))return null;var T=O.players;a=Object(k.a)({game:P,numPlayers:T.length,board:S,multiplayer:Object(C.b)({server:"https://masq.bruntrager.win"}),debug:!1});var A=T.indexOf(w);return-1===A?Object(c.jsxs)(q,{children:[Object(c.jsx)("p",{className:"mb-3",children:"Who are you?"}),Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(c.jsx)("input",{value:w,autoFocus:!0,onChange:function(e){N(e.target.value)}})})]}):Object(c.jsx)(q,{children:Object(c.jsx)(a,{matchID:f,playerID:A.toString(),playerNames:y(T)})})};var Y=function(){return Object(c.jsx)(J.a,{children:Object(c.jsxs)(I.c,{children:[Object(c.jsx)(I.a,{path:"/create",children:Object(c.jsx)(M,{})}),Object(c.jsx)(I.a,{path:"/host/:matchId",children:Object(c.jsx)(W,{host:!0})}),Object(c.jsx)(I.a,{path:"/join/:matchId/:yourName",children:Object(c.jsx)(W,{})}),Object(c.jsx)(I.a,{path:"/join/:matchId",children:Object(c.jsx)(W,{})}),Object(c.jsx)(I.a,{exact:!0,path:"/join",children:Object(c.jsx)(E,{})}),Object(c.jsx)(I.a,{path:"/",children:Object(c.jsx)(L,{})})]})})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,355)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),c(e),r(e),a(e),s(e)}))};l.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Y,{})}),document.getElementById("root")),z()}},[[354,1,2]]]);
//# sourceMappingURL=main.aaf77503.chunk.js.map